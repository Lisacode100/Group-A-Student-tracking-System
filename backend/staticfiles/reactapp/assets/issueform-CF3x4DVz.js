import{r as u,I as b,R as e}from"./index-sDdCnybi.js";const C="/static/assets/upload-CeSlhBx2.png",l=[];for(let t=0;t<256;++t)l.push((t+256).toString(16).slice(1));function y(t,a=0){return(l[t[a+0]]+l[t[a+1]]+l[t[a+2]]+l[t[a+3]]+"-"+l[t[a+4]]+l[t[a+5]]+"-"+l[t[a+6]]+l[t[a+7]]+"-"+l[t[a+8]]+l[t[a+9]]+"-"+l[t[a+10]]+l[t[a+11]]+l[t[a+12]]+l[t[a+13]]+l[t[a+14]]+l[t[a+15]]).toLowerCase()}let m;const N=new Uint8Array(16);function R(){if(!m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m=crypto.getRandomValues.bind(crypto)}return m(N)}const S=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d={randomUUID:S};function D(t,a,n){var o;if(d.randomUUID&&!t)return d.randomUUID();t=t||{};const s=t.random??((o=t.rng)==null?void 0:o.call(t))??R();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,y(s)}const w=()=>{const{addIssue:t,setNotificationMessage:a}=u.useContext(b),[n,s]=u.useState({title:"",description:"",category:"",registrar:"",lecturer:"",coursecode:"",coursename:"",attachment:null}),o=u.useRef(null),r=c=>{const{name:i,value:h,files:p}=c.target;s({...n,[i]:p?p[0]:h})},g=c=>{c.preventDefault(),o.current.click()},E=()=>Object.values(n).every(c=>c!==""&&c!==null),v=c=>{c.preventDefault();const i={id:D(),...n,status:"pending",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()};t(i),a({message:"Your issue has been submitted successfully!",date:i.date,time:i.time}),console.log("Form submitted successfully",n),alert("Issue submitted successfully!"),s({title:"",description:"",category:"",registrar:"",lecturer:"",coursecode:"",coursename:"",attachment:null})};return e.createElement("div",{className:"issue-form-container"},e.createElement("div",{className:"issue-form-header"},e.createElement("h1",null,"Create a new isssue")),e.createElement("div",{className:"issue-form-content"},e.createElement("label",{className:"registrar-select-label"},"Registrar's Name",e.createElement("select",{name:"registrar",value:n.registrar,onChange:r,className:"registrar-select"},e.createElement("option",{value:""},"Select Registrar"),e.createElement("option",{value:"cocis"},"COCIS Registrar"),e.createElement("option",{vue:"cedat"},"CEDAT Registrar"),e.createElement("option",{value:"chuss"},"CHUSS Registrar"),e.createElement("option",{value:"caes"},"CAES Registrar"),e.createElement("option",{value:"cobams"},"COBAMS Registrar"),e.createElement("option",{value:"cees"},"CEES Registrar"),e.createElement("option",{value:"chs"},"CHS Registrar"),e.createElement("option",{value:"conas"},"CONAS Registrar"),e.createElement("option",{value:"school of law"},"School Of Law"),e.createElement("option",{vlaue:"covab"},"COVAB Registrar"))),e.createElement("label",{className:"course-code-label"},"Course Unit Code",e.createElement("input",{className:"course-code-input",type:"text",name:"coursecode",placeholder:"Enter The Course Code",value:n.coursecode,onChange:r})),e.createElement("label",{className:"lecturer-label"},"Lecturer's Name",e.createElement("select",{name:"lecturer",value:n.lecturer,onChange:r,className:"lecturer-select"},e.createElement("option",{value:""},"Select Lecturer"),e.createElement("option",{value:"lule"},"Dr. Lule Bosco"),e.createElement("option",{value:"waswa"},"Dr. Waswa Shafick"),e.createElement("option",{value:"alvin"},"Dr. Alvin David"),e.createElement("option",{value:"aloi"},"Mrs. Aloi"),e.createElement("option",{value:"denish"},"Mr. Denish"),e.createElement("option",{value:"muwonge"},"Mr. Muwonge"))),e.createElement("label",{className:"upload-label"},"Upload Photo",e.createElement("div",{className:"upload-section"},n.attachment?e.createElement("img",{src:URL.createObjectURL(n.attachment),alt:"selected",className:"selected-image"}):e.createElement(e.Fragment,null,e.createElement("img",{src:C,alt:"upload",className:"upload-icon"}),e.createElement("button",{onClick:g,className:"upload-link"},"Upload a file")," or drag and drop PNG, JPG"),e.createElement("input",{type:"file",ref:o,style:{display:"none"},accept:"image/png, image/jpeg",name:"attachment",onChange:r}))),e.createElement("label",{className:"issue-label"},"Issue Title",e.createElement("input",{className:"issue-title-input",type:"text",name:"title",placeholder:"Enter Issue Title",value:n.title,onChange:r})),e.createElement("label",{className:"issue-label"},"Issue Category",e.createElement("select",{className:"issue-select",name:"category",value:n.category,onChange:r},e.createElement("option",{value:""},"Select Category"),e.createElement("option",{value:"missingmarks"},"Missing Marks"),e.createElement("option",{value:"appeal"},"Appeal"),e.createElement("option",{value:"correction"},"Correction"))),e.createElement("label",{className:"issue-label"},"Issue Description",e.createElement("input",{type:"text",name:"description",placeholder:"Enter the issue description",className:"issue-description-input",value:n.description,onChange:r})),e.createElement("label",{className:"issue-label"},"Course Unit Name",e.createElement("input",{type:"text",name:"coursename",placeholder:"Enter the Course Unit Name",className:"course-name-input",value:n.coursename,onChange:r})),e.createElement("button",{className:"issue-submit-button",onClick:v,disabled:!E()},"Submit")))};export{w as default};
