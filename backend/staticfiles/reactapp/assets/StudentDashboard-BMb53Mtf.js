import{r as s,u as f,R as e,O as p}from"./index-sDdCnybi.js";/* empty css                         */import{N as g}from"./Navbar-CMbe5xjD.js";import{S as I}from"./Sidebar-SegTVdWM.js";import{y as h}from"./index--077_VM5.js";import{i as E,a as S}from"./api-D3_w-X5d.js";import"./logo-CZhsUzzd.js";import"./search-DhYgOuvo.js";import"./mail-BI_ncAYh.js";import"./person-Bhepz9K9.js";const w=()=>{const[o,n]=s.useState([]),[u,a]=s.useState(!0),c=f();s.useEffect(()=>{localStorage.setItem("userRole","student")},[]);const r=async()=>{try{a(!0);const t=await E.getIssues(),l=localStorage.getItem("userId"),m=t.filter(d=>d.created_by===l);n(m)}catch(t){t==="Unauthorized"?i():h.error(t||"Failed to fetch your issues")}finally{a(!1)}},i=()=>{S.logout(),c("/signin")};return s.useEffect(()=>{r()},[]),e.createElement("div",{className:"dashboard-container"},e.createElement(g,null),e.createElement(I,null),e.createElement("div",{className:"dashboard-content"},e.createElement(p,{context:{issues:o,loading:u,onRefresh:r}})))};export{w as default};
