import{r as n,R as e}from"./index-c4qKUfTE.js";import h from"./otp-CIsO1Hle.js";import{l as f}from"./logo-CZhsUzzd.js";import{p as N}from"./person-Bhepz9K9.js";import{m as b}from"./mail-BI_ncAYh.js";import{p as v}from"./padlock-B0UKb9uO.js";import{a as S}from"./api-BQS_Y7Kh.js";import"./congratulations-D5vSgdn3.js";const P=()=>{const[a,p]=n.useState({fullName:"",email:"",password:"",role:"",termsAccepted:!1}),[d,E]=n.useState(!1),[g,o]=n.useState(""),r=l=>{const{name:t,value:s,type:c,checked:m}=l.target;p({...a,[t]:c==="checkbox"?m:s})},i=()=>{const{fullName:l,email:t,password:s,role:c,termsAccepted:m}=a;return l?t?!s||s.length<8?"Password is required and should be at least 8 characters":c?m?"":"Terms and Conditions must be accepted":"Role is required":"Email is required":"Full Name is required"};n.useEffect(()=>{const l=i();o(l)},[a]);const u=async l=>{if(l.preventDefault(),console.log("Form submitted:",a),!g)try{const t=await S.signup(a.email,a.fullName,a.password,a.role);console.log("Signup Successful:",t),E(!0)}catch(t){console.error("Signup Failed:",t),o(t.message||"Unable to connect to the server. Please try again later.")}};return d?e.createElement(h,{email:a.email,onResendOtp:()=>{}}):e.createElement("div",{className:"signup-container"},e.createElement("div",{className:"signup-left"},e.createElement("img",{className:"muk",src:f,alt:"muk logo"}),e.createElement("h1",{className:"system-title"},"Welcome to the",e.createElement("br",null)," Academic Issue Tracking System",e.createElement("br",null)," AITS")),e.createElement("div",{className:"sigup-right"},e.createElement("form",{className:"signup-right-form",onSubmit:u},e.createElement("h2",{className:"title"},"Create An Account"),e.createElement("p",{className:"sub-title"},"Please fill in all the fields below"),e.createElement("label",null,"Full Name",e.createElement("div",{className:"input-container"},e.createElement("input",{className:"full-name",type:"text",name:"fullName",placeholder:"Enter your Full Name",value:a.fullName,onChange:r}),e.createElement("img",{src:N,alt:"person",className:"person-icon"}))),e.createElement("label",null,"Email Address",e.createElement("div",{className:"input-container"},e.createElement("input",{className:"email-address",type:"email",name:"email",placeholder:"Enter your Email Address",value:a.email,onChange:r}),e.createElement("img",{src:b,alt:"mail",className:"mailicon"}))),e.createElement("label",null,"Password",e.createElement("div",{className:"input-container"},e.createElement("input",{className:"password",type:"password",name:"password",placeholder:"Enter your Password (min - 8 characters)",value:a.password,onChange:r,minLength:8}),e.createElement("img",{src:v,alt:"padlock",className:"padlockicon"}))),e.createElement("label",null,"Role",e.createElement("div",{className:"dropdown"},e.createElement("select",{className:"role-select",name:"role",value:a.role,onChange:r},e.createElement("option",{value:""},"Select Role"),e.createElement("option",{value:"student"},"Student"),e.createElement("option",{value:"lecturer"},"Lecturer"),e.createElement("option",{value:"registrar"},"Registrar")))),e.createElement("label",{className:"terms"},e.createElement("input",{type:"checkbox",className:"terms-checkbox",name:"termsAccepted",checked:a.termsAccepted,onChange:r}),"I have read and accepted all the AITS terms and conditions."),e.createElement("button",{onClick:u,className:"signup-button",disabled:i()},"SIGN UP"),e.createElement("p",{className:"signin-text"},"Already have an account? ",e.createElement("a",{href:"signin",className:"signin-link"},"Sign In")))))};export{P as default};
